"userId": "697b9e695054b298aa2f71bf"

Local URL for DB - http://localhost:5000/api/...

token for user(Kristina): "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2OTdiYjY1YjVhNjIyY2Y2ZGZiMTZkZGQiLCJyb2xlIjoidXNlciIsImlhdCI6MTc2OTcxNTMzNiwiZXhwIjoxNzY5ODAxNzM2fQ.6LpN8QJmzmmpRHYpbvYKdJ23VVmPVtOf5gS6Nd840kM"

token for admin(Danial): "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2OTdiOWU2OTUwNTRiMjk4YWEyZjcxYmYiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3Njk3MTI5NTMsImV4cCI6MTc2OTc5OTM1M30.Pber5ewhyhZ6U9XbmeYkd7A5N9y958bnBZHVydibCvc"

697b9cae595fb226e26c1875 â€” example id of a console

total price = days x dailyPrice

CRUD
    CREATE
    Create user
    POST /api/auth/register

    Create rental
    POST /api/rentals

    Create console (admin)
    POST /api/consoles

        READ
        Get all consoles
        GET /api/consoles

        Get my rentals
        GET /api/rentals/my

        Health / DB status
        GET /api/health

            UPDATE
            Return rental
            PATCH /api/rentals/:id/return

            Cancel rental
            PATCH /api/rentals/:id/cancel

            Add/remove tags
            PATCH /api/consoles/:id/tags/*

            Update favorite note
            PATCH /api/users/favorites/note

MongoDB operations used:

$set

$inc

$push

$pull

positional $

    DELETE
    Hard delete (physical removal)
Model.deleteOne(...)

    Soft delete (industry-preferred)
$set: { status: "cancelled" }


For example, if we want to add a new console(being an admin)
We use POST - http://localhost:5000/api/consoles
and then in body we select json and print whatever we wanted to add like this:

{
  "brand": "Sony",
  "model": "PlayStation 4 Pro",
  "condition": "good",
  "dailyPrice": 8,
  "specs": { "storage": "1TB", "edition": "Pro" },
  "tags": ["budget"]
}

Embedded modelling is e.g - returnLog inside rental or specs inside Console
Referenced modelling is storing a link (ObjectId) to another document in a different collection e.g - Rental references User and Console like this:

{
  "userId": "697b9e695054b298aa2f71bf",
  "consoleId": "697b9cae595fb226e26c1875"
}

$ne means not equal in MongoDB

multi-stage aggregation pipelines were used - $match, $group, $lookup, $unwind, $project, $sort, $limit to compute top-demand consoles and monthly revenue

$lookup - joins collections, $unwind - flattens an array into multiple documents, $project - controls what fields are shown or created(excludes _id e.g)
